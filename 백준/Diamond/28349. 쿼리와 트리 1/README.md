# [Diamond IV] 쿼리와 트리 1 - 28349 

[문제 링크](https://www.acmicpc.net/problem/28349) 

### 성능 요약

메모리: 2240 KB, 시간: 40 ms

### 분류

해 구성하기, 자료 구조, 분리 집합, 그리디 알고리즘, 재귀

### 제출 일자

2025년 2월 22일 20:28:03

### 문제 설명

<p>N(2 ≤ N ≤ 60)개의 정점으로 이루어진 트리가 주어진다. 트리의 각 정점은 1번부터 N번까지 번호가 매겨져 있으며, 이 중 한 정점은 루트이다.</p>

<p><a href="/workbook/view/915">트리와 쿼리</a>를 좋아하는 당신은 두 노드의 쌍 M(1 ≤ M ≤ 120)개를 주고, 두 노드의 <a href="/problem/11437">가장 가까운 공통 조상</a>이 무엇인지 계산하였다.</p>

<p>하지만 사실 당신은 그 트리가 무엇인지 모른다.</p>

<p>두 노드의 쌍과, 가장 가까운 공통 조상 정보가 M개 주어질 때, 이 정보를 만족하는 트리를 아무거나 출력하여라. 만약 그러한 트리가 없다면 NIE를 출력하라.</p>

### 입력 

 <p>첫 번째 줄에 테스트 케이스의 수 T가 주어진다. 이후 다음과 같은 형태의 입력이 T개 주어진다.</p>

<p>첫 번째 줄에 두 정수 N, M이 주어진다.</p>

<p>이후 M개의 줄에 정보 u, v, w가 주어진다. u번 정점과 v번 정점의 가장 가까운 공통 조상이 w번 정점이라는 정보이다. (1 ≤ u, v, w ≤ N, u ≠ v)</p>

<p>한 입력에서 N의 합은 16276 이하이다.</p>

<p>한 입력에서 M의 합은 33043 이하이다.</p>

### 출력 

 <p>T개의 줄에 걸쳐 각 테스트 케이스의 정답을 출력하라. 각 테스트 케이스에 대해:</p>

<ul>
	<li>답이 없다면 NIE를 출력하라.</li>
	<li>답이 있다면 N개의 정수를 출력하라. 이 중 i번째 수는 i번 노드의 부모 노드를 뜻한다. 루트 노드에 대해서는, 0을 출력해야 한다. 출력은 올바른 루트 있는 트리를 표현해야 한다.</li>
</ul>

